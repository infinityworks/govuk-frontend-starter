{% extends "layouts/base.njk" %}

{% from "govuk/components/back-link/macro.njk" import govukBackLink -%}
{% from "govuk/components/button/macro.njk" import govukButton -%}
{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}
{% from "govuk/components/textarea/macro.njk" import govukTextarea -%}

{% set pageTitle = "What is your most impressive juggling trick?" %}
{% block pageTitle %}
  {{ "Error: " if errorSummary | length }}{{ pageTitle }} – Apply for a juggling license – GOV.UK
{% endblock %}

{% block beforeContent %}
  {{ govukBackLink({
    text: "Back",
    href: backLinkUrl
  }) }}
{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      {% if errorSummary | length %}
        {{ govukErrorSummary({
          titleText: "There is a problem",
          errorList: errorSummary
        }) }}
      {% endif %}

      <form class="form" action="/apply-juggling-license/juggling-trick" method="post">
        {{ govukTextarea({
          name: "most-impressive-trick",
          id: "most-impressive-trick",
          label: {
            text: "What is your most impressive juggling trick?",
            classes: "govuk-label--l",
            isPageHeading: true
          },
          value: data['most-impressive-trick'],
          errorMessage: errors["most-impressive-trick"]
        }) -}}

        {{ govukButton({
          text: "Continue"
        }) -}}
      </form>

    </div>
  </div>

{% endblock %}

{% block bodyEnd %}
  {{ super() }}

  <script
    type="module"
    nonce="{{ cspNonce }}"
    src="/assets/scripts/modules/button.mjs?v={{ config.app.version }}"
  ></script>

  {% if errorSummary | length %}
    <script
      type="module"
      nonce="{{ cspNonce }}"
      src="/assets/scripts/modules/error-summary.mjs?v={{ config.app.version }}"
    ></script>
  {% endif %}

{% endblock %}
